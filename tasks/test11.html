<!DOCTYPE html>
<html>

<head>

    <style>

    </style>
</head>
<select id='select'>
</select>
<input type="submit" value="+" onclick="addCity()">
<table border="1" id='table'>
    <tr>
        <td>name</td>
        <td>temp</td>
        <td>wind</td>
    </tr>
</table>

<body>


    <script src="C:\Users\ДАНИЛА\Desktop\java.projects\javascript.learn-master\data.js"></script>
    <script>
       
        let data = getData();
        let selectedCities = [];
        let table = document.getElementById('table')
        let button = document.getElementById('button')
        let select = document.getElementById('select')
        let value = select.value;
        for (let i = 0; i < data.length; i++) {
            let option = document.createElement('option')
            select.appendChild(option)
            option.textContent = data[i].city.name
        }

        function addCity() {
            let value = select.value;
            selectedCities.push(value);
            render()

        }
        function render() {


            while (table.firstChild) {
                table.removeChild(table.firstChild);

            }
            for (let i = 0; i < selectedCities.length; i++) {

                let tr = document.createElement('tr')
                let td = document.createElement('td')
                let td1 = document.createElement('td')

                let td2 = document.createElement('td')
                let cityData = dataSearch(selectedCities[i])
                td.textContent = selectedCities[i];
                td1.textContent = cityData.main.temp;
                td2.textContent = cityData.wind.speed;
                tr.appendChild(td)
                tr.appendChild(td1)
                tr.appendChild(td2)
                table.appendChild(tr);
                let x = document.createElement('button');
                x.textContent = "X";
                tr.append(x);
                x.addEventListener('click', x2)
            }
        }

        
        function x2() {
            this.parentElement.remove();
        }




        function dataSearch(cityName) {
            for (let i = 0; i < data.length; i++) {

                if (data[i].city.name == cityName) {

                    return data[i];
                }

            }
            return null;

        }


    </script>


</body>

</html>